# 喵搜

## 功能简介

- 通过异步访问必应的后端接口,提供智能搜索提示列表,并跳转必应搜索结果页面。
- 可以通过键盘方向键或者鼠标选择搜索关键词。
- 跳转搜索结果前会有特殊提示音效:喵~
- 感谢使用。

## 过程中遇到问题总结

### 关于冒泡
原本是在搜索框input绑定了focus和blur事件,获得焦点时显示搜索ul列表,失去焦点隐藏列表。

但是当ul列表项触发click搜索事件的时候,由于input搜索框失去焦点,从而引发了blur事件,导致ul的click事件没有触发成功。

于是想到能否给blur事件添加条件,比如当鼠标移出ul列表时才触发blur,没成功。

又接着想到focus和blur事件本质上不就相当于鼠标在元素内还是元素外点击,于是把这两个事件都改为click事件,

前者绑定在input上,后者绑定在document上,最后再加上stopPrapodation阻止冒泡,成功解决。

### 关于动态添加元素后无法绑定事件
通过异步传输取得的数据以li标签的形式动态地添加到html里的ul标签下,形成列表,

当给li标签绑定事件时发现ul列表已加载,但是事件并没有触发,只有当列表第二次加载时,li元素的事件才能触发。

可能就相当于如果把js文件放在html的head里,需要在页面完全dom都完毕后才能触发js里的各种事件。

于是我在li事件的外层给ul列表添加了鼠标移入事件,在ul列表能被鼠标捕获并触发mouseenter事件后,才会触发li元素的鼠标事件。

之后又学习到了事件委托(又名事件代理),就用事件委托代替了for循环,优化性能。
